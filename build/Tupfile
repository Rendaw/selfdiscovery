tup.dorulesfile()
tup.dofile '../ren-general/build/files.tup'

Sources = 
{
	'../main.cxx',
	'../shared.cxx',
	'../blank.cxx',
	'../version.cxx',
	'../flag.cxx',
	'../platform.cxx',
	'../location.cxx',
	'../program.cxx',
	'../cxxcompiler.cxx',
	'../clibrary.cxx'
}

Objects = {}
for Index, Source in ipairs(Sources)
do
	table.insert(Objects, Rule.Object(Source))
end
for Index, Object in ipairs(RenGeneralObjects)
do
	table.insert(Objects, Object)
end
if tup.getconfig('PLATFORM') == 'windows'
then
	Rule.Executable(Objects, 'selfdiscovery.exe')
else
	Rule.Executable(Objects, 'selfdiscovery')
end

